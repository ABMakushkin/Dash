2025-04-22
#python 

## 4.1 Функция int()

В Python преобразование типов (также называемое приведение типов) позволяет преобразовывать значения одного типа данных в другой. Мы уже вкратце рассмотрели преобразование строки в число при вводе данных, теперь остановимся на этой теме подробнее. Рассмотрим три основных функции для преобразования типов: `int()`, `str()` и `float()`.

Функция `int()` используется для преобразования значения в целое число.

**Преобразование строки в целое число**:

```python
num_str = "42" 
num_int = int(num_str) 
print(num_int)  # Вывод: 42
```

**Если в строке было не число, то будет ошибка**:

```python
num_str = "сорок два" 
num_int = int(num_str) 
print(num_int)  # ValueError: invalid literal for int() with base 10: 'сорок два'
```

**Преобразование числа с плавающей точкой в целое число**:

```python
num_float = 42.9 
num_int = int(num_float) 
print(num_int)  # Вывод: 42
```

Округление дробных чисел при таком преобразовании будет всегда вниз — сохраняется только целая часть числа. Число 1.9999 даст 1.

**Преобразование логического значения в целое число**:

Истинное значение (True) часто называют "логической единицей", а ложное (False) — "логическим нулем". При преобразовании они становятся обычной единицей и обычным нулем соотвественно.

```python
true_bool = True 
false_bool = False 
print(int(true_bool))  # Вывод: 1 
print(int(false_bool))  # Вывод: 0
```

## 4.2 Функция str()

Функция `str()` используется для преобразования значения в строку. В строку можно преобразовать практически всё, что угодно.

**Преобразование целого числа в строку**:

```python
num_int = 42 
num_str = str(num_int) 
print(num_str)  # Вывод: "42"
```

**Преобразование числа с плавающей точкой в строку**:

```python
num_float = 42.9 
num_str = str(num_float) 
print(num_str)  # Вывод: "42.9"
```

**Преобразование логического значения в строку**:

```pythontrue_bool = True 
false_bool = False 
print(str(true_bool))  # Вывод: "True" 
print(str(false_bool))  # Вывод: "False"
```

## 4.3 Функция float()

Функция `float()` используется для преобразования значения в число с плавающей точкой (вещественное число).

**Преобразование строки в число с плавающей точкой**:

```python
num_str = "42.9" 
num_float = float(num_str) 
print(num_float)  # Вывод: 42.9
```

**Преобразование целого числа в число с плавающей точкой**:

```python
num_int = 42 
um_float = float(num_int) 
print(num_float)  # Вывод: 42.0
```

**Преобразование логического значения в число с плавающей точкой**:

```python
true_bool = True 
false_bool = False 
print(float(true_bool))  # Вывод: 1.0 
print(float(false_bool))  # Вывод: 0.0
```

## Определение типа

Иногда в определённом месте кода мы не знаем, какие именно данные хранятся в переменной. Для этого в Python есть **функция** `type()`, которая используется для определения типа объекта.

Это встроенная функция, которая возвращает тип указанного объекта, что может быть полезно для отладки, валидации данных или во время реализации логики, зависящей от типов данных.

**Принцип работы функции `type()`**

Когда вы вызываете `type(x)`, Python возвращает специальный объект `type`, который представляет тип переменной x. Например:

```python
x = 1 print(type(x))  # Выведет: <class 'int'>
```


```python
x = "привет" print(type(x))  # Выведет: <class 'str'>
```


```python
x = [1, 2, 3] print(type(x))  # Выведет: <class 'list'>
```


Обратите внимание, что на экран будет выведено слово class. Это потому, что даже типы int, str, list и другие тоже являются классами, просто встроенными — их не нужно объявлять, они изначально поставляются вместе с Python.

**Практическое применение**

Функция `type()` часто используется в сценариях, где необходимо различать действия на основе типа данных.

- Разные действия могут быть выполнены в зависимости от типа переменной.
- В функциях и методах, для убеждения в корректности типов аргументов.

Если вы хотите убедиться, что в переменной содержится число, напишите код следующего вида:

```python
arg = 123 if type(arg) == int:     print(arg + 10)  # Выведет: 133
```

Более практичный пример, где мы проверяем тип объекта, который хранится в переменной:

```python
arg = "123" 
if type(arg) == int:     
	print(arg + 10)  # Это не выполнится, так как arg - строка 
elif type(arg) == str:     
	print(arg + " world")  # Выведет: 123 world 
else:     
print("Неизвестный тип")
```


## Явное задание типа


В Python явное указание типа объекта происходит с использованием функций приведения типов, таких как `int()`, `float()`, `str()`, `tuple()` и других. Эти функции позволяют задавать конкретный тип и преобразовывать данные одного типа в другой, что удобно для обработки пользовательского ввода, выполнения математических операций или работы со строками и коллекциями данных.

**Примеры функций приведения типов**

`int()`: Преобразует данные в целое число. Мы уже неоднократно сталкивались с этой функцией и знаем, что если передать строку с числом, то `int()` конвертирует её в соответствующее целое число.

```python
num = int("123")  # num будет целое число 123
```

`float()`: Еще одна знакомая функция. Преобразует данные в число с плавающей точкой.

```python
num = float("123.45")  # num будет 123.45
```

`str()`: Конвертирует любой объект Python в строковое представление.

```python
s = str(10.5)  # s будет '10.5'
```

`tuple()`: Преобразует последовательность в кортеж.

```python
t = tuple([1, 2, 3])  # t станет (1, 2, 3)
```


`list()`: Преобразует итерируемый объект (например, строку или кортеж) в список. Итерируемый объект — это объект, который можно последовательно перебирать, например, строки, списки или кортежи.

```python
l = list("abc")  # l будет ['a', 'b', 'c']
```

`dict()`: Создаёт словарь из последовательности ключ-значение.

```python
d = dict([(1, 'a'), (2, 'b')])  # d будет {1: 'a', 2: 'b'}
```

О словарях и кортежах мы расскажем немного позднее, но, думаю, общий смысл вы уловили: если вам явно нужно задать какой-то тип, вы всегда можете воспользоваться вышеперечисленными функциями.

## Преобразование типов

В Python явное преобразование (или приведение) типов позволяет программистам контролировать и изменять типы данных переменных. Это может быть полезно для обеспечения совместимости данных в различных операциях или для исправления типов данных, полученных из пользовательского ввода или при чтении из файлов. По сути, преобразование типов и приведение типов означают одно и то же — процесс изменения типа данных объекта на другой тип.

С явным приведением типов мы уже немного знакомы. Оно в Python осуществляется с помощью встроенных функций, таких как `int()`, `float()`, `str()`, `tuple()`, `list()`, `dict()`, `set()` и других.

Для закрепления приведем еще несколько примеров:

|Функция|Описание|Пример ввода|Пример вывода|
|---|---|---|---|
|`int()`|Преобразование в целое число|int("10")|10|
|`float()`|Преобразование в число с плавающей точкой|float("20.5")|20.5|
|`str()`|Преобразование в строку|str(15)|"15"|
|`tuple()`|Преобразование в кортеж|tuple([1, 2, 3])|(1, 2, 3)|
|`list()`|Преобразование в список|list("abc")|['a', 'b', 'c']|
|`dict()`|Создание словаря из пар ключ-значение|dict([(1, 'one'), (2, 'two')])|{1: 'one', 2: 'two'}|
|`set()`|Создание множества из списка|set([1, 1, 2, 2, 3, 3])|{1, 2, 3}|

**Примеры использования**

Явное приведение типов используется во многих сценариях, включая:

- **Обработку пользовательского ввода**: Гарантируя, что введенные данные соответствуют ожидаемому типу данных.
- **Интероперабельность данных**: Когда данные из разных источников или API должны быть объединены или сравнены.
- **Обработку ошибок**: Предотвращение ошибок времени выполнения за счет преобразования данных в подходящий тип перед выполнением операций.

**Лучшие практики и предостережения**

Явное преобразование типов должно использоваться осознанно, чтобы избежать потери данных (например, при конвертации `float` в `int`) или ошибок преобразования (например, попытки преобразовать нечисловую строку в число).

Важно также помнить, что некоторые преобразования могут быть неочевидными и приводить к неожиданным результатам, что требует тщательной проверки данных. Например, преобразование `int` в `bool` и обратно может иметь неожиданные эффекты :)