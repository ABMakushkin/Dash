2024-11-18
#python 
[Строковая функция translate() в Python: примеры](https://pythonim.ru/string/translate-python?ysclid=m28zo8l3mj425375879)

Функция translate() в Python возвращает новую строку, в которой каждый символ в строке заменяется с использованием данной таблицы перевода. Таблица перевода должна быть отображением порядковых номеров Unicode в порядковые номера Unicode, строки или None. РЕКЛАМА Мы можем создать таблицу перевода с помощью функции maketrans() или предоставить ее вручную с помощью сопоставления словаря. Мы можем передать в функцию maketrans() максимум три строковых аргумента: Если есть только один аргумент, это должен быть словарь, отображающий порядковые номера (целые числа) или символы Unicode в порядковые номера Unicode, строки или None. Если есть два аргумента, они должны быть строками одинаковой длины, и в результирующем словаре каждый символ в x будет сопоставлен с символом в той же позиции в y. Если есть третий аргумент, это должна быть строка, символы которой в результате будут сопоставлены с None. Contents Примеры maketrans() с одним аргументом maketrans() с двумя аргументами maketrans() с тремя аргументами С ручным отображением Примеры Давайте посмотрим на несколько примеров использования функции string translate(). maketrans() с одним аргументом s = 'ABCDBCA' translation = s.maketrans({ord('A'): 'a', ord('B'): ord('b')}) # single argument as dict print(s.translate(translation)) Выход: abCDbCa Здесь «A» заменяется на «a», а «B» заменяется на «b» в строке результата. maketrans() с двумя аргументами s = 'ABCDBCA' translation = s.maketrans('A', 'a') print(s.translate(translation)) translation = s.maketrans('ABCD', 'abcd') print(s.translate(translation)) Вывод: aBCDBCa abcdbca Первый перевод заменяет «А» на «а». Второй перевод имеет два строковых аргумента одинаковой длины, и каждый символ в первой строке сопоставляется с соответствующим индексным символом во второй строке. Таким образом, A будет заменен на a, B будет заменен на b, C будет заменен на c, а D будет заменен на d в строке результата. Если две строки аргументов имеют разную длину, возникнет ошибка. translation = s.maketrans('AB', 'a') Ошибка: ValueError: первые два аргумента maketrans должны иметь одинаковую длину maketrans() с тремя аргументами s = 'ABCDBCA' translation = s.maketrans('AB', 'ab', 'ACD') print(s.translate(translation)) Выход: bb Здесь «A» сначала заменяется на «a», но затем заменяется на None из-за третьей строки аргумента. Тогда «B» отображается на «b». Для перевода символы «C» и «D» отображаются на «None». Если мы предоставим более трех аргументов, возникает ошибка. translation = s.maketrans('AB', 'ab', 'CD', 'c') Ошибка: TypeError: maketrans() принимает не более 3 аргументов (4 задано) С ручным отображением s = 'ABCDBCA' print(s.translate({ord('A'): ord('a'), ord('B'): ord('b'), ord('C'): None})) print(s.translate({ord('A'): 'X', ord('B'): 'YZ', ord('C'): None})) Вывод: abDba XYZDYZX Обратите внимание, что во втором операторе «B» заменяется строкой «YZ». Другие сопоставления представляют собой простую замену символа на символ. Я использую функцию ord() для предоставления кода Unicode для сопоставлений перевода.  
Источник: https://pythonim.ru/string/translate-python?ysclid=m28zo8l3mj425375879